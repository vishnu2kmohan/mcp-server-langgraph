{{- if not .Values.secrets.existingSecret }}
{{- if not .Values.externalSecrets.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "mcp-server-langgraph.fullname" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "mcp-server-langgraph.labels" . | nindent 4 }}
type: Opaque
stringData:
  anthropic-api-key: {{ .Values.secrets.anthropicApiKey | default "REPLACE_ME" | quote }}
  jwt-secret-key: {{ .Values.secrets.jwtSecretKey | default "REPLACE_ME" | quote }}
  openfga-store-id: {{ .Values.secrets.openfgaStoreId | default "" | quote }}
  openfga-model-id: {{ .Values.secrets.openfgaModelId | default "" | quote }}
  infisical-client-id: {{ .Values.secrets.infisicalClientId | default "" | quote }}
  infisical-client-secret: {{ .Values.secrets.infisicalClientSecret | default "" | quote }}
  infisical-project-id: {{ .Values.secrets.infisicalProjectId | default "" | quote }}
{{- end }}
{{- end }}
