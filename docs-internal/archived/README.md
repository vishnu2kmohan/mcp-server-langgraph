# Archived Files

This directory contains files that are no longer active in the project but are kept for historical reference.

## pre-push-legacy.sh

**Archived**: 2025-11-13
**Reason**: Obsolete lint-only version replaced by comprehensive pre-commit-managed hook
**Original Location**: `scripts/git-hooks/pre-push`

### Background

This file was the original template for the pre-push Git hook, containing basic lint checks only. It has been superseded by a comprehensive 4-phase validation hook that is automatically installed via `pre-commit` framework.

### Why It Was Archived

1. **Marked as obsolete** with clear warnings in file header (lines 2-17)
2. **Superseded by comprehensive hook** - Current `.git/hooks/pre-push` is generated by `pre-commit install --hook-type pre-push`
3. **Incomplete validation** - Only ran lint checks, missing:
   - Lockfile validation
   - Dependency tree validation
   - Type checking (MyPy)
   - Test suite validation (unit, smoke, integration, API, MCP, property tests)
   - Comprehensive pre-commit hooks
4. **Caused confusion** - Developers might mistake it for the active hook template

### Current Hook Installation

The actual pre-push hook is now installed via:
```bash
make git-hooks
# OR
pre-commit install --hook-type pre-push
```

The hook runs 4 phases of validation matching CI/CD exactly:
- **Phase 1**: Fast checks (lockfile, dependency tree, workflow validation)
- **Phase 2**: Type checking (MyPy - critical, blocks on errors)
- **Phase 3**: Test suite validation (7 test suites with xdist parallelization)
- **Phase 4**: Pre-commit hooks (push stage - comprehensive validators)

### Related Documentation

- **Hook Configuration**: `.git/hooks/pre-push` (generated, not version-controlled)
- **Hook Tests**: `tests/meta/test_local_ci_parity.py`
- **Parity Tests**: `tests/meta/test_makefile_prepush_parity.py`
- **Validator Script**: `scripts/validate_pre_push_hook.py`
- **ADR**: `docs-internal/ADR-00XX-git-hooks-parity.md` (documents 2025-11-13 fixes)

### Historical Value

This file demonstrates the evolution of the project's validation strategy from basic linting to comprehensive CI-equivalent validation, and serves as a reference for the original approach.
