‚ùå Found unconfigured AsyncMock instances:

  tests/api/test_bearer_scheme_diagnostic.py:184 - AsyncMock 'mock_sp_manager' created but not configured
  tests/api/test_bearer_scheme_diagnostic.py:190 - AsyncMock 'mock_openfga' created but not configured
  tests/api/test_bearer_scheme_diagnostic.py:184 - AsyncMock 'mock_sp_manager' created but not configured
  tests/api/test_bearer_scheme_diagnostic.py:190 - AsyncMock 'mock_openfga' created but not configured
  tests/api/test_bearer_scheme_diagnostic.py:184 - AsyncMock 'mock_sp_manager' created but not configured
  tests/api/test_bearer_scheme_diagnostic.py:190 - AsyncMock 'mock_openfga' created but not configured
  tests/api/test_bearer_scheme_diagnostic.py:190 - AsyncMock 'mock_openfga' created but not configured
  tests/api/test_service_principals_endpoints.py:97 - AsyncMock 'mock_client.check_permission' created but not configured
  tests/api/test_service_principals_endpoints.py:105 - AsyncMock 'mock_client.create_client' created but not configured
  tests/api/test_service_principals_endpoints.py:106 - AsyncMock 'mock_client.get_client_secret' created but not configured
  tests/core/test_cache.py:291 - AsyncMock 'fetcher' created but not configured
  tests/core/test_cache.py:305 - AsyncMock 'fetcher' created but not configured
  tests/e2e/test_real_clients.py:52 - AsyncMock 'mock_instance' created but not configured
  tests/e2e/test_real_clients.py:53 - AsyncMock 'mock_instance.post' created but not configured
  tests/e2e/test_real_clients.py:81 - AsyncMock 'mock_instance' created but not configured
  tests/e2e/test_real_clients.py:122 - AsyncMock 'mock_instance' created but not configured
  tests/e2e/test_real_clients.py:123 - AsyncMock 'mock_instance.post' created but not configured
  tests/e2e/test_real_clients.py:158 - AsyncMock 'mock_instance' created but not configured
  tests/e2e/test_real_clients.py:159 - AsyncMock 'mock_instance.get' created but not configured
  tests/e2e/test_real_clients.py:181 - AsyncMock 'mock_instance' created but not configured
  tests/integration/test_anthropic_enhancements_integration.py:236 - AsyncMock 'mock_llm.ainvoke' created but not configured
  tests/integration/test_app_startup_validation.py:145 - AsyncMock 'mock_keycloak' created but not configured
  tests/integration/test_app_startup_validation.py:449 - AsyncMock 'mock_keycloak' created but not configured
  tests/integration/test_gdpr_endpoints.py:147 - AsyncMock 'mock_instance.export_user_data' created but not configured
  tests/integration/test_gdpr_endpoints.py:192 - AsyncMock 'mock_instance.export_user_data_portable' created but not configured
  tests/integration/test_gdpr_endpoints.py:204 - AsyncMock 'mock_instance.export_user_data_portable' created but not configured
  tests/integration/test_gdpr_endpoints.py:242 - AsyncMock 'mock_instance.delete_user_account' created but not configured
  tests/integration/test_gdpr_endpoints.py:278 - AsyncMock 'mock_instance.delete_user_account' created but not configured
  tests/integration/test_mcp_startup_validation.py:135 - AsyncMock 'mock_keycloak' created but not configured
  tests/integration/test_mcp_startup_validation.py:136 - AsyncMock 'mock_keycloak.create_client' created but not configured
  tests/monitoring/test_cost_api.py:122 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:143 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:161 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:196 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:217 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:236 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:253 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:303 - AsyncMock 'mock_monitor.create_budget' created but not configured
  tests/monitoring/test_cost_api.py:335 - AsyncMock 'mock_monitor.get_budget_status' created but not configured
  tests/monitoring/test_cost_api.py:354 - AsyncMock 'mock_monitor.get_budget_status' created but not configured
  tests/monitoring/test_cost_api.py:383 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:403 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:422 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:455 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:476 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_cost_api.py:498 - AsyncMock 'mock_collector.get_records' created but not configured
  tests/monitoring/test_prometheus_client.py:320 - AsyncMock 'mock_async_client.get' created but not configured
  tests/property/test_auth_properties.py:250 - AsyncMock 'mock_openfga.check_permission' created but not configured
  tests/property/test_auth_properties.py:293 - AsyncMock 'mock_openfga.check_permission' created but not configured
  tests/regression/test_bearer_scheme_isolation.py:358 - AsyncMock 'mock_sp_manager' created but not configured
  tests/regression/test_bearer_scheme_isolation.py:358 - AsyncMock 'mock_sp_manager' created but not configured
  tests/regression/test_bearer_scheme_isolation.py:358 - AsyncMock 'mock_sp_manager' created but not configured
  tests/regression/test_bearer_scheme_isolation.py:358 - AsyncMock 'mock_sp_manager' created but not configured
  tests/regression/test_bearer_scheme_override_diagnostic.py:140 - AsyncMock 'mock_api_key_manager' created but not configured
  tests/regression/test_bearer_scheme_override_diagnostic.py:150 - AsyncMock 'mock_keycloak_client' created but not configured
  tests/regression/test_bearer_scheme_override_diagnostic.py:140 - AsyncMock 'mock_api_key_manager' created but not configured
  tests/regression/test_bearer_scheme_override_diagnostic.py:150 - AsyncMock 'mock_keycloak_client' created but not configured
  tests/regression/test_bearer_scheme_override_diagnostic.py:140 - AsyncMock 'mock_api_key_manager' created but not configured
  tests/regression/test_bearer_scheme_override_diagnostic.py:150 - AsyncMock 'mock_keycloak_client' created but not configured
  tests/regression/test_bearer_scheme_override_diagnostic.py:150 - AsyncMock 'mock_keycloak_client' created but not configured
  tests/regression/test_performance_regression.py:291 - AsyncMock 'mock_openfga.check_permission' created but not configured
  tests/regression/test_performance_regression.py:291 - AsyncMock 'mock_openfga.check_permission' created but not configured
  tests/security/test_api_key_indexed_lookup.py:258 - AsyncMock 'mock_keycloak.get_user_attributes' created but not configured
  tests/security/test_api_key_performance_monitoring.py:96 - AsyncMock 'mock_redis' created but not configured
  tests/security/test_api_key_performance_monitoring.py:126 - AsyncMock 'mock_redis' created but not configured
  tests/security/test_api_key_performance_monitoring.py:145 - AsyncMock 'mock_redis' created but not configured
  tests/smoke/test_ci_startup_smoke.py:164 - AsyncMock 'mock_keycloak' created but not configured
  tests/unit/test_conversation_retrieval.py:53 - AsyncMock 'mock_graph.aget_state' created but not configured
  tests/unit/test_conversation_retrieval.py:93 - AsyncMock 'mock_graph.aget_state' created but not configured
  tests/unit/test_conversation_retrieval.py:113 - AsyncMock 'mock_graph.aget_state' created but not configured
  tests/unit/test_conversation_retrieval.py:144 - AsyncMock 'mock_graph.aget_state' created but not configured
  tests/unit/test_scim_filters.py:48 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:84 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:126 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:159 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:201 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:233 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:275 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:289 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_scim_filters.py:304 - AsyncMock 'mock_keycloak.search_users' created but not configured
  tests/unit/test_search_tools.py:186 - AsyncMock 'mock_response' created but not configured
  tests/unit/test_search_tools.py:188 - AsyncMock 'mock_response.json' created but not configured
  tests/unit/test_search_tools.py:199 - AsyncMock 'mock_client_instance' created but not configured
  tests/unit/test_search_tools.py:200 - AsyncMock 'mock_client_instance.post' created but not configured
  tests/unit/test_search_tools.py:230 - AsyncMock 'mock_response' created but not configured
  tests/unit/test_search_tools.py:232 - AsyncMock 'mock_response.json' created but not configured
  tests/unit/test_search_tools.py:243 - AsyncMock 'mock_client_instance' created but not configured
  tests/unit/test_search_tools.py:244 - AsyncMock 'mock_client_instance.post' created but not configured
  tests/unit/test_search_tools.py:292 - AsyncMock 'mock_response' created but not configured
  tests/unit/test_security_practices.py:185 - AsyncMock 'mock_pool.acquire.return_value.__aenter__' created but not configured
  tests/unit/test_security_practices.py:216 - AsyncMock 'mock_pool.acquire.return_value.__aenter__' created but not configured
  tests/utils/mock_factories.py:69 - AsyncMock 'mock_client' created but not configured
  tests/utils/mock_factories.py:70 - AsyncMock 'mock_client.check_permission' created but not configured

üìñ Fix: Add explicit return_value or side_effect configuration:
   mock.method.return_value = expected_value
   mock.method.side_effect = Exception('error')

See: tests/ASYNC_MOCK_GUIDELINES.md for best practices
